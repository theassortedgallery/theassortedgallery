<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>The Assorted Gallery</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">
<style>

:root{
  --accent:#a67c52;
  --accent-dark:#8b5e34;
  --card:#fff8ef;
  --bg:linear-gradient(135deg,#fffaf0,#f5e6ca);
}
body {
  font-family:'Poppins',sans-serif;
  background:var(--bg);
  color:#5a4635;
  margin:0;
  padding:0;
}
header {
  text-align:center;
  padding:40px 10px 20px;
  position:sticky;
  top:0;
  background:var(--bg);
  z-index:1000;
}
header h1 {
  font-family:'Great Vibes',cursive;
  font-size:3em;
  color:var(--accent);
  margin:0;
}
header p {
  font-size:1.2em;
  color:#6b4f3a;
  margin:6px 0 0 0;
}
.container {
  display:flex;
}
.sidebar {
  width:220px;
  background:var(--card);
  border-right:2px solid #e0d2b8;
  padding:20px;
  position:sticky;
  top:120px;
  height:calc(100vh - 120px);
  overflow-y:auto;
  z-index:2000;
}
.sidebar h2 {
  font-family:'Great Vibes',cursive;
  font-size:1.6em;
  color:var(--accent-dark);
  text-align:center;
  margin-bottom:12px;
}
.sidebar ul {list-style:none; padding:0; margin:0;}
.sidebar li {
  padding:10px; 
  margin:4px 0; 
  background:#fff3e0; 
  border-radius:8px; 
  cursor:pointer; 
  text-align:center; 
  transition:background .2s;
}
.sidebar li:hover, .sidebar li.active {
  background:var(--accent); 
  color:#fff;
}
main {
  flex:1; 
  padding:20px;
}
.products { 
  display: grid; 
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); 
  gap:16px; 
  width: 100%; 
  margin:auto; 
}
.product {
  background:var(--card); 
  border-radius:12px; 
  box-shadow:0 4px 10px rgba(0,0,0,0.08); 
  text-align:center; 
  padding:12px; 
  transition: transform .18s ease, box-shadow .18s ease;
}
.product:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 18px rgba(0,0,0,0.15);
}
.product img {
  width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
  cursor: pointer;
}
.product h3 {
  margin:10px 0 6px;
  color:#8b5e34;
  font-size:0.98rem;
}
.product p {
  font-size:0.88rem;
  color:#5a4635;
  margin:0 0 8px 0;
  min-height:36px;
}
.price {
  font-weight:600; 
  color:var(--accent); 
  margin:6px 0;
}
.stock {
  font-size:0.78em; 
  color:#555; 
  margin-bottom:8px;
}
button {
  background:var(--accent);
  color:white;
  border:none;
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
  transition:background .12s;
  font-size:0.95rem;
}
button:hover {background:var(--accent-dark);}
button:disabled {background:#ccc; cursor:not-allowed;}
#cart-btn {
  position:fixed;
  top:18px;
  right:18px;
  background:var(--accent);
  color:white;
  border:none;
  border-radius:50%;
  width:54px;
  height:54px;
  font-size:1.4em;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.18);
  z-index:2001;
  display:flex; justify-content:center; align-items:center;
}
#cart-badge {
  position: absolute;
  bottom: 0;
  left: 0;
  font-size: 20px;
  font-weight: bold;
  color: red;
  pointer-events: none;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 50%;
  padding: 4px 8px;
  min-width: 24px;
  text-align: center;
  transition: transform 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
  text-shadow: 0 0 2px #fff,0 0 4px #fff;
}
#cart-badge.animate {transform: scale(1.6);}
#toggle-sidebar {
  display:none;
  position:fixed;
  top:18px;
  left:18px;
  z-index:2002;
  background:var(--accent);
  color:white;
  border:none;
  border-radius:50%;
  width:54px;
  height:54px;
  font-size:1.4em;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.18);
}
#cart-panel {
  position:fixed;
  top:0;
  right:0;
  width:360px;
  max-width:100%;
  height:100%;
  background:var(--card);
  box-shadow:-3px 0 18px rgba(0,0,0,0.18);
  padding:18px;
  transition:transform 0.35s ease;
  z-index:1000;
  overflow-y:auto;
  transform:translateX(100%);
}
#cart-panel.open {transform:translateX(0);}
#cart-panel h2 {text-align:center; color:#8b5e34; margin:0 0 10px 0;}
#cart-items {margin-top:12px;}
.cart-item {
  border-bottom:1px solid #e6dfd4;
  padding:10px 0;
  font-size:0.95rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.cart-item span {display:block; max-width:75%;}
.cart-item button {
  background:#c26d5a;
  border-radius:50%;
  width:28px;
  height:28px;
  font-size:1em;
  padding:0;
  line-height:1;
}
#total {font-weight:700; text-align:right; margin-top:12px;}
#checkout-btn {
  width:100%;
  background:var(--accent-dark);
  color:#fff;
  margin-top:14px;
  padding:10px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:1rem;
}
#checkout-btn:hover {background:#a05a32;}

/* Checkout modal */
#checkout-modal {
  display:none;
  position: fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background: rgba(0,0,0,0.58);
  justify-content: center;
  align-items: center;
  z-index: 5000;
  padding: 18px;
  opacity:0;
  transition: opacity 0.25s ease;
}
#checkout-modal.show {opacity:1;}
#checkout-modal .modal-content {
  background: var(--card);
  padding: 18px;
  border-radius: 12px;
  max-width: 420px;
  width: 100%;
  max-height: 90vh;
  overflow: hidden;
  text-align: left;
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);
  font-size: 0.96rem;
  display:flex;
  flex-direction: column;
  transform: translateY(-20px);
  transition: transform 0.25s ease;
}
#checkout-modal.show .modal-content {transform:translateY(0);}
#checkout-summary-container {
  flex:1;
  overflow-y:auto;
  margin-bottom:10px;
  padding-bottom: 60px; /* space for sticky total */
}
#checkout-summary {
  margin:0;
}
#checkout-total {
  position: sticky;
  bottom: 0;
  background: #fff3e6;
  border: 1px solid #e0d2b8;
  border-radius: 10px;
  text-align: right;
  font-weight: 700;
  font-size: 1.05rem;
  color: #8b5e34;
  padding: 12px;
}

#checkout-modal .modal-content h3 {margin-top:0; text-align:center;}
#checkout-modal .modal-close {display:block; margin-left:auto; background:transparent; border:none; font-size:1.1rem; cursor:pointer;}
#checkout-modal h4 {
  background: rgba(255,215,150,0.15);
  padding:6px 8px;
  border-radius:6px;
  text-align:center;
}
#checkout-modal p, #checkout-modal a {
  font-size:0.85rem;
  text-align:center;
  margin-top:8px;
}
#checkout-modal a {
  display:inline-block;
  background:#a67c52;
  color:white;
  padding:10px 20px;
  border-radius:8px;
  text-decoration:none;
  font-size:0.9rem;
  transition: background 0.2s;
}
#checkout-modal a:hover {background: var(--accent-dark);}
#checkout-modal button {margin-top:12px; padding:8px 14px; border-radius:8px; background:#555; color:#fff; cursor:pointer;}
@media(max-width:768px){
  .container{flex-direction:column;}
  .sidebar{
    position:fixed;
    top:0;
    left:0;
    height:100%;
    transform:translateX(-100%);
    transition:transform 0.35s ease;
  }
  .sidebar.open {transform:translateX(0);}
  #toggle-sidebar {display:block;}
}
@media (max-width: 768px) { 
  header {
    padding: 20px 10px 10px;
  }
  header h1 {
    font-size: 2em;
  }
  header p {
    font-size: 0.9em;
  }
}

</style>
</head>
<body>
<header>
  <h1>Welcome to The Assorted Gallery</h1>
  <p>Bringing you the finest from the UAE ‚Äî delightful chocolates, crisp biscuits, enchanting perfumes, gleaming gold, and more to love.</p>
</header>

<button id="toggle-sidebar" aria-label="Toggle categories">‚ò∞</button>
<button id="cart-btn" aria-label="Open cart">
  üõí
  <span id="cart-badge">0</span>
</button>

<div class="container">
  <aside class="sidebar">
    <h2>Categories</h2>
    <ul id="category-list"></ul>
  </aside>
  <main class="products" id="product-list"></main>
</div>

<div id="cart-panel" aria-hidden="true">
  <h2>Your Order</h2>
  <div id="cart-items"></div>
  <div id="total">Total: ‚Ç±0.00</div>
  <button id="checkout-btn">Checkout</button>
</div>

<div id="checkout-modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-content">
    <button class="modal-close" onclick="closeCheckout()">‚úñ</button>
    <h3>üõçÔ∏è Order Summary</h3>
    <div id="checkout-summary-container">
      <div id="checkout-summary"></div>
      <div id="checkout-total">Total Payment: ‚Ç±0.00</div>
    </div>
    <h4>üí∏ GCash Payment</h4>
    <p>
      Please send your payment to:<br>
      <strong>üì± 09351140013</strong><br>
      <strong>üë§ Maica Baldesancho</strong>
    </p>
    <p>‚úÖ Thank you for shopping! Please fill out the order form below:</p>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSemgnUku-wrSiqwwA5-0BqVRjSLIhsJbJfj2xP4s5wMB3aO0g/viewform?usp=pp_url&entry.466455746=" 
   target="_blank" 
   id="form-link"
   style="display:inline-block; background:#a67c52; color:white; padding:10px 20px; border-radius:8px; text-decoration:none; font-size:0.9rem; transition: background 0.2s;">
   üìù Open Order Form
</a>
    <button onclick="closeCheckout()">Close</button>
  </div>
</div>

<script>
// Categories
const categories = ["ALL","BISCUITS & COOKIES","CHOCOLATES & SWEETS","TEA & BEVERAGES","DATES & MIDDLE EASTERN DELIGHTS","ELECTRONICS & ACCESSORIES","HEALTHY SNACKS & GRAINS","PERSONAL CARE & HOME","SPREADS & NUT BUTTERS","SCENTS & FRAGRANCES"];
function renderCategories(){
  const ul = document.getElementById("category-list");
  ul.innerHTML = categories.map(cat=>`<li onclick="filterCategory('${cat}')" class="${cat==='ALL'?'active':''}">${cat}</li>`).join('');
}
let activeCategory = "ALL";
function filterCategory(cat){
  activeCategory = cat;
  document.querySelectorAll('.sidebar li').forEach(li=>{
    li.classList.toggle('active', li.textContent===cat);
  });
  renderProducts();
  if(window.innerWidth <= 768) sidebar.classList.remove('open');
}

// Products
const products = [
{ category: "BISCUITS & COOKIES", name: "AMERICAN PREMIUM BUTTER COOKIE 454G", price: 339, qty: 2, image: "AMERICAN PREMIUM BUTTER COOKIE 454G.jpeg" },
  { category: "BISCUITS & COOKIES", name: "AMERICAN HERSHEY CHOCO COOKIES 454G", price: 349, qty: 3, image: "AMERICAN HERSHEY CHOCO COOKIES 454G.jpeg" },
  { category: "BISCUITS & COOKIES", name: "AMERICAN HERSHEY DARK CHOCO COOKIES 454G", price: 349, qty: 2, image: "AMERICAN HERSHEY DARK CHOCO COOKIES 454G.jpeg" },
  { category: "BISCUITS & COOKIES", name: "LOTUS BISCOFF 250G", price: 189, qty: 15, image: "LOTUS BISCOFF 250G.jpeg" },
  { category: "BISCUITS & COOKIES", name: "CHIPS AHOY 128GX3", price: 245, qty: 3, image: "CHIPS AHOY 128Gx3.jpeg" },
  { category: "BISCUITS & COOKIES", name: "BISKREM CARAMEL BISCUIT", price: 199, qty: 2, image: "BISKREM CARAMEL BISCUIT.jpeg" },
  { category: "BISCUITS & COOKIES", name: "BISKREM CHOCO BISCUIT", price: 199, qty: 2, image: "BISKREM CHOCO BISCUIT.jpeg" },
  { category: "BISCUITS & COOKIES", name: "MCVITES DIGESTIVE DARK", price: 199, qty: 5, image: "MCVITES DIGESTIVE DARK.jpeg" },
  { category: "BISCUITS & COOKIES", name: "MCVITES DIGESTIVE CHOCO", price: 189, qty: 5, image: "MCVITES DIGESTIVE CHOCO.jpeg" },
  { category: "BISCUITS & COOKIES", name: "DIGESTIVE ORIGINAL", price: 149, qty: 4, image: "DIGESTIVE ORIGINAL.png" },
  { category: "BISCUITS & COOKIES", name: "MCVITES DIGESTIVE BISCUIT CHOCO", price: 230, qty: 2, image: "MCVITES DIGESTIVE BISCUIT CHOCO.jpeg" },
  { category: "BISCUITS & COOKIES", name: "MCVITES DIGESTIVE BISCUIT VANILLA", price: 230, qty: 2, image: "MCVITES DIGESTIVE BISCUIT VANILLA.jpeg" },
  { category: "BISCUITS & COOKIES", name: "OREO ORIGINAL", price: 249, qty: 2, image: "OREO ORIGINAL.jpg" },
  { category: "CHOCOLATES & SWEETS", name: "SNICKERS MINIATURE 150GX2", price: 305, qty: 2, image: "SNICKERS MINIATURE 150GX2.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "BOUNTY MINIATURE 150GX2", price: 305, qty: 2, image: "BOUNTY MINIATURE 150GX2.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "M&MS PEANUT 82GX3", price: 275, qty: 3, image: "M&Ms CHOCO 82Gx3.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "M&MS CHOCO 82GX3", price: 275, qty: 4, image: "M&Ms CHOCO 82Gx3.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "MALTESERS 35GX4", price: 199, qty: 7, image: "MALTESERS 35GX4.jpg" },
  { category: "CHOCOLATES & SWEETS", name: "M&MS CHOCO 45GX4", price: 199, qty: 5, image: "M&MS CHOCO 45GX4.jpg" },
  { category: "CHOCOLATES & SWEETS", name: "M&MS PEANUT 45GX4", price: 199, qty: 3, image: "M&MS PEANUT 45GX4.jpg" },
  { category: "CHOCOLATES & SWEETS", name: "PEPERO ASSORTED 32GX4(3ALMOND + 1CHOCO)", price: 205, qty: 8, image: "PEPERO ASSORTED 1.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "PEPERO ASSORTED 32GX4(3ALMOND + 1ORIGINAL)", price: 205, qty: 7, image: "PEPERO ASSORTED 2.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "TWIX MINIATURE 150GX2", price: 379, qty: 2, image: "TWIX MINIATURE 150Gx2.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "MARS MINIATURE 150GX2", price: 305, qty: 2, image: "MARS MINIATURE 150Gx2.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "RITTER BUTTER BISCUIT 100G", price: 159, qty: 11, image: "RITTER BUTTER BISCUIT 100G.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "RITTER ALMONDS 100G", price: 159, qty: 11, image: "RITTER ALMONDS 100G.jpeg" },
  { category: "CHOCOLATES & SWEETS", name: "RITTER HAZELNUT 100G", price: 159, qty: 10, image: "RITTER HAZELNUT 100G.webp" },
  { category: "CHOCOLATES & SWEETS", name: "CADBURY CHOCOLATE 212G FRUIT NUT", price: 230, qty: 1, image: "CADBURY CHOCOLATE 212G FRUIT NUT.avif" },
  { category: "CHOCOLATES & SWEETS", name: "CADBURY CHOCOLATE 212G HAZEL NUT", price: 230, qty: 1, image: "CADBURY CHOCOLATE 212G HAZEL NUT.webp" },
  { category: "CHOCOLATES & SWEETS", name: "GALAXY MIX MINIS 710G BUY1TAKE1", price: 1199, qty: 2, image: "GALAXY MIX MINIS 710G BUY1TAKE1.webp" },
  { category: "CHOCOLATES & SWEETS", name: "FIX CHOCOLATE", price: 649, qty: 3, image: "FIX CHOCOLATE.jpg" },
  { category: "CHOCOLATES & SWEETS", name: "SORBON MINI CONE 350G", price: 349, qty: 2, image: "SORBON MINI CONE 350G.webp" },
  { category: "CHOCOLATES & SWEETS", name: "TOBLERONE MILK MINI 168GX2", price: 349, qty: 3, image: "TOBLERONE MILK MINI 168GX2.webp" },
  { category: "CHOCOLATES & SWEETS", name: "BOUNTY MINIS 275GX2", price: 550, qty: 2, image: "BOUNTY MINIS 275GX2.jpg" },
  { category: "CHOCOLATES & SWEETS", name: "GALAXY DARK", price: 399, qty: 1, image: "GALAXY DARK.png" },
  { category: "CHOCOLATES & SWEETS", name: "GALAXY CRUMBLE", price: 399, qty: 1, image: "GALAXY CRUMBLE.png" },
  { category: "CHOCOLATES & SWEETS", name: "GALAXY WHITE", price: 399, qty: 1, image: "GALAXY WHITE.png" },
  { category: "CHOCOLATES & SWEETS", name: "SNICKERS 45GX5", price: 225, qty: 6, image: "SNICKERS 45GX5.webp" },
  { category: "CHOCOLATES & SWEETS", name: "KISSES SPECIAL SELECTION 100G B1T1", price: 305, qty: 2, image: "KISSES SPECIAL SELECTION 100G B1T1.jpg" },
  { category: "CHOCOLATES & SWEETS", name: "KISSES MILK CHOCOLATE 100G B1T1", price: 305, qty: 1, image: "KISSES MILK CHOCOLATE 100G B1T1.jpg" },
  { category: "DATES & MIDDLE EASTERN DELIGHTS", name: "SALSA DATES 250G", price: 225, qty: 5, image: "SALSA DATES 250G.jpg" },
  { category: "DATES & MIDDLE EASTERN DELIGHTS", name: "DATES KHALAS 1.5KG", price: 550, qty: 5, image: "DATES KHALAS 1.5KG.jpg" },
  { category: "DATES & MIDDLE EASTERN DELIGHTS", name: "DATES MILK CHOCO 100GX3", price: 399, qty: 1, image: "DATES MILK CHOCO 100GX3.jpeg" },
  { category: "ELECTRONICS & ACCESSORIES", name: "SONNY HEADPHONE_BLACK", price: 2099, qty: 3, image: "SONNY HEADPHONE_BLACK.jpg" },
  { category: "ELECTRONICS & ACCESSORIES", name: "SONNY HEADPHONE_BLUE", price: 2099, qty: 1, image: "SONNY HEADPHONE_BLUE.jpg" },
  { category: "ELECTRONICS & ACCESSORIES", name: "SONNY HEADPHONE_YELLOW", price: 2099, qty: 1, image: "SONNY HEADPHONE_YELLOW.jpg" },
  { category: "ELECTRONICS & ACCESSORIES", name: "SONNY HEADPHONE_BEIGE", price: 2099, qty: 1, image: "SONNY HEADPHONE_BEIGE.jpg" },
  { category: "HEALTHY SNACKS & GRAINS", name: "GRANOLA NUTS & HONEY 300G", price: 179, qty: 9, image: "GRANOLA NUTS & HONEY 300G.jpeg" },
  { category: "HEALTHY SNACKS & GRAINS", name: "GRANOLA TROPICAL FRUITS 300G", price: 179, qty: 13, image: "GRANOLA TROPICAL FRUITS 300G.jpeg" },
  { category: "HEALTHY SNACKS & GRAINS", name: "GRANOLA DRIED FRUITS 300G", price: 179, qty: 10, image: "GRANOLA DRIED FRUITS 300G.png" },
  { category: "HEALTHY SNACKS & GRAINS", name: "GRANOLA FOREST FRUIT 300G", price: 195, qty: 14, image: "GRANOLA FOREST FRUIT 300G.jpeg" },
  { category: "HEALTHY SNACKS & GRAINS", name: "CRANBERRY NUT BAR", price: 59, qty: 18, image: "CRANBERRY NUT BAR.jpeg" },
  { category: "HEALTHY SNACKS & GRAINS", name: "ALMOND NUT BAR", price: 59, qty: 18, image: "ALMOND NUT BAR.jpeg" },
  { category: "HEALTHY SNACKS & GRAINS", name: "PEACAN NUT BAR", price: 59, qty: 19, image: "PEACAN NUT BAR.jpeg" },
  { category: "HEALTHY SNACKS & GRAINS", name: "SUPERNUTS", price: 59, qty: 7, image: "SUPERNUTS.jpeg" },
  { category: "PERSONAL CARE & HOME", name: "CANOLA OIL 1.5L", price: 190, qty: 4, image: "CANOLA OIL 1.5L.jpeg" },
  { category: "PERSONAL CARE & HOME", name: "COMFORT 3.9L", price: 449, qty: 2, image: "COMFORT 3.9L.jpg" },
  { category: "PERSONAL CARE & HOME", name: "FAIRY DISWASHING LAVANDER 600ML B1T1", price: 245, qty: 1, image: "FAIRY DISWASHING LAVANDER 600ML B1T1.jpeg" },
  { category: "PERSONAL CARE & HOME", name: "FAIRY DISWASHING APPLE 600ML B1T1", price: 245, qty: 1, image: "FAIRY DISWASHING APPLE 600ML B1T1.jpeg" },
  { category: "PERSONAL CARE & HOME", name: "FAIRY DISWASHING ROSE 600ML B1T1", price: 245, qty: 1, image: "FAIRY DISWASHING ROSE 600ML B1T1.jpeg" },
  { category: "PERSONAL CARE & HOME", name: "HEAD&SHOULDER ANTI DANDRUFF 350ML B1T1", price: 449, qty: 1, image: "HEAD&SHOULDER ANTI DANDRUFF 350ML B1T1.png" },
  { category: "PERSONAL CARE & HOME", name: "HEAD&SHOULDER SMOOTH 350ML B1T1", price: 449, qty: 1, image: "HEAD&SHOULDER SMOOTH 350ML B1T1.webp" },
  { category: "PERSONAL CARE & HOME", name: "DOVE SHAMPOO 350ML B1T1", price: 405, qty: 2, image: "DOVE SHAMPOO 350ML B1T1.webp" },
  { category: "SPREADS & NUT BUTTERS", name: "NUTELLA SPREAD 440G", price: 355, qty: 4, image: "NUTELLA SPREAD 440G.jpeg" },
  { category: "SPREADS & NUT BUTTERS", name: "NUTELLA SPEAD 825G", price: 580, qty: 2, image: "NUTELLA SPEAD 825G.jpeg" },
  { category: "SPREADS & NUT BUTTERS", name: "NUTELLA SPREAD 750G", price: 580, qty: 2, image: "NUTELLA SPREAD 750G.webp" },
  { category: "SPREADS & NUT BUTTERS", name: "PEANUT BUTTER CREAMY 1KG", price: 249, qty: 6, image: "PEANUT BUTTER CREAMY 1KG.jpeg" },
  { category: "SPREADS & NUT BUTTERS", name: "PEANUT BUTTER CRUNCHY 1KG", price: 249, qty: 6, image: "PEANUT BUTTER CRUNCHY 1KG.jpeg" },
  { category: "TEA & BEVERAGES", name: "KARAK TEA ORIGINAL 500G", price: 449, qty: 2, image: "KARAK TEA ORIGINAL 500G.jpeg" },
  { category: "TEA & BEVERAGES", name: "KARAK TEA CARDAMOM 500G", price: 449, qty: 4, image: "KARAK TEA CARDAMOM 500G.jpeg" },
  { category: "TEA & BEVERAGES", name: "KARAK TEA GINGER 500G", price: 449, qty: 2, image: "KARAK TEA GINGER 500G.jpeg" },
  { category: "TEA & BEVERAGES", name: "SWEET HONEY TEA", price: 109, qty: 1, image: "SWEET HONEY TEA.jpeg" },
  { category: "TEA & BEVERAGES", name: "HIBISCUS TEA", price: 99, qty: 5, image: "HIBISCUS TEA.jpeg" },
  { category: "TEA & BEVERAGES", name: "MOROCCAN MINT TEA", price: 99, qty: 1, image: "MOROCCAN MINT TEA.jpeg" },
  { category: "TEA & BEVERAGES", name: "DETOX TEA", price: 109, qty: 4, image: "DETOX TEA.jpeg" },
  { category: "TEA & BEVERAGES", name: "CAMOMILE TEA", price: 99, qty: 2, image: "CAMOMILE TEA.jpeg" },
  { category: "TEA & BEVERAGES", name: "GREEN TEA LEMON HONEY", price: 99, qty: 4, image: "GREEN TEA LEMON HONEY.jpeg" },
{ category: "SCENTS & FRAGRANCES", name: "A THOUSAND WISHES", price: 139, qty: 1, image: "A THOUSAND WISHES.png" },
{ category: "SCENTS & FRAGRANCES", name: "SUNSHINE LEMONS", price: 139, qty: 1, image: "SUNSHINE LEMONS.png" },
{ category: "SCENTS & FRAGRANCES", name: "MAHOGANY TEAKWOOD1", price: 139, qty: 1, image: "MAHOGANY TEAKWOOD1.png" },
{ category: "SCENTS & FRAGRANCES", name: "MAHOGANY TEAKWOOD2", price: 139, qty: 1, image: "MAHOGANY TEAKWOOD2.png" },
{ category: "SCENTS & FRAGRANCES", name: "INTO THE NIGHT", price: 139, qty: 3, image: "INTO THE NIGHT.png" },
{ category: "SCENTS & FRAGRANCES", name: "BLACK CHERRY MERLOT", price: 139, qty: 1, image: "BLACK CHERRY MERLOT.png" },
{ category: "SCENTS & FRAGRANCES", name: "WARM VANILLA SUGAR", price: 139, qty: 1, image: "WARM VANILLA SUGAR.png" },
{ category: "SCENTS & FRAGRANCES", name: "LAVENDER CLOUD", price: 139, qty: 1, image: "LAVENDER CLOUD.png" }



];

let cart = {};


function renderProducts(){
  const list = document.getElementById("product-list");
  const filtered = activeCategory==="ALL" ? products : products.filter(p=>p.category===activeCategory);
  list.innerHTML = filtered.map((p,i)=>{
    const originalIndex = products.findIndex(prod => prod.name===p.name && prod.category===p.category);
    return `
      <div class="product">
        <img src="${p.image}" alt="${p.name}" onerror="this.src='https://via.placeholder.com/300x200?text=No+Image';">
        <h3>${p.name}</h3>
        <div class="price">‚Ç±${p.price.toFixed(2)}</div>
        <div class="stock">Available: <span id="stock-${originalIndex}">${products[originalIndex].qty}</span></div>
        <button id="btn-${originalIndex}" onclick="addToCart(${originalIndex})" ${products[originalIndex].qty===0?'disabled':''}>Add to Cart</button>
      </div>
    `;
  }).join('');
}

// Cart functions
function addToCart(i){
  if(products[i].qty <= 0) return;
  products[i].qty--;
  updateStockDisplay(i);

  const name = products[i].name;
  if(!cart[name]){
    cart[name] = { name: name, price: products[i].price, count: 0, index: i };
  }
  cart[name].count++;
  renderCart();
}

function removeFromCart(name){
  const item = cart[name];
  if(!item) return;

  item.count--;
  if(item.count <= 0){
    delete cart[name];
  }

  products[item.index].qty++;
  updateStockDisplay(item.index);

  renderCart();
}

function updateStockDisplay(index){
  const stockEl = document.getElementById(`stock-${index}`);
  const btn = document.getElementById(`btn-${index}`);
  if(stockEl) stockEl.textContent = products[index].qty;
  if(btn) btn.disabled = products[index].qty <= 0;
}

function renderCart(){
  const itemsDiv = document.getElementById("cart-items");
  const badge = document.getElementById("cart-badge");
  const totalEl = document.getElementById("total");

  let total = 0;
  let totalCount = 0;
  const entries = Object.values(cart);

  if(entries.length === 0){
    itemsDiv.innerHTML = "<p>No items yet.</p>";
    totalEl.textContent = "Total: ‚Ç±0.00";
    badge.textContent = "0";
    return;
  }

  itemsDiv.innerHTML = entries.map(item=>{
    const sub = item.count * item.price;
    total += sub;
    totalCount += item.count;
    return `
      <div class="cart-item">
        <span>${item.name} x${item.count}<br>
        <small>‚Ç±${item.price.toFixed(2)} each ‚Äî Subtotal: ‚Ç±${sub.toFixed(2)}</small></span>
        <button onclick="removeFromCart('${item.name}')">‚àí</button>
      </div>
    `;
  }).join('');

  totalEl.textContent = `Total: ‚Ç±${total.toFixed(2)}`;
  badge.textContent = totalCount;
}

// Cart Panel
const cartPanel = document.getElementById("cart-panel");
const cartBtn = document.getElementById("cart-btn");
cartBtn.addEventListener("click", ()=>{
  cartPanel.classList.toggle("open");
});

// Sidebar toggle
const sidebar = document.querySelector(".sidebar");
const toggleSidebarBtn = document.getElementById("toggle-sidebar");
toggleSidebarBtn.addEventListener("click", ()=>{
  sidebar.classList.toggle("open");
});

// Checkout Modal
const checkoutModal = document.getElementById("checkout-modal");
const checkoutBtn = document.getElementById("checkout-btn");
checkoutBtn.addEventListener("click", ()=>{ showCheckout(); });

function showCheckout() {
  const summary = document.getElementById("checkout-summary");
  const totalEl = document.getElementById("checkout-total");
  const entries = Object.values(cart);
  if(entries.length === 0) return;

  // Build order summary for modal
  summary.innerHTML = entries
    .map(item => `<p>${item.name} x${item.count} ‚Äî ‚Ç±${(item.price * item.count).toFixed(2)}</p>`)
    .join('');

  // Calculate total
  let total = entries.reduce((acc, item) => acc + item.price * item.count, 0);
  totalEl.textContent = `Total Payment: ‚Ç±${total.toFixed(2)}`;

  // Pre-fill Google Form link
  const formBase = "https://docs.google.com/forms/d/e/1FAIpQLSemgnUku-wrSiqwwA5-0BqVRjSLIhsJbJfj2xP4s5wMB3aO0g/viewform?usp=pp_url";
  const formEntryItems = entries
    .map(item => `${item.name} x${item.count} ‚Äî ‚Ç±${(item.price * item.count).toFixed(2)}`)
    .join("%0A"); // line break for Google Form

  const formEntryTotal = encodeURIComponent(`Total: ‚Ç±${total.toFixed(2)}`);

  const formLink = document.getElementById("form-link");
  formLink.href = `${formBase}&entry.466455746=${formEntryItems}%0A${formEntryTotal}`;

  // Show modal
  checkoutModal.style.display = "flex";
  setTimeout(() => checkoutModal.classList.add("show"), 10);
  checkoutModal.setAttribute("aria-hidden", "false");
}
// Add this right after showCheckout()
function closeCheckout() {
  checkoutModal.classList.remove("show");
  checkoutModal.setAttribute("aria-hidden", "true");
  setTimeout(() => {
    checkoutModal.style.display = "none";
  }, 250); // matches your CSS transition
}
// Initialize
renderCategories();
renderProducts();
renderCart();

</script>
</body>
</html>
